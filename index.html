<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Hexo</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/07/21/plugin-calendar/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/07/21/plugin-calendar/" itemprop="url">小程序-日历插件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-07-21T16:00:06+08:00">
                2018-07-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/" itemprop="url" rel="index">
                    <span itemprop="name">小程序</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/小程序插件/" itemprop="url" rel="index">
                    <span itemprop="name">小程序插件</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="calendar"><a href="#calendar" class="headerlink" title="calendar"></a>calendar</h2><h3 id="日历"><a href="#日历" class="headerlink" title="日历"></a>日历</h3><p>介绍：日历基本功能，自定义样式，考勤状态</p>
<h4 id="使用方法："><a href="#使用方法：" class="headerlink" title="使用方法："></a>使用方法：</h4><p>1、 在微信小程序管理后台——设置——第三方服务，按 AppID（wx23a9cef3522e4f7c）搜索到该插件并申请授权（ps：一般不会出现拒绝的情况。如果申请被拒绝了，请重新申请，有时候管理员手抽点错了，请见谅）。 </p>
<p>2、在要使用该插件的小程序 app.json 文件中引入插件声明。 </p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">"plugins": &#123;</span><br><span class="line">    "calendar": &#123;</span><br><span class="line">        "version": "1.0.6", (选取对应的版本号，建议使用最新版本)</span><br><span class="line">        "provider": "wx23a9cef3522e4f7c"</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3、在需要使用到该插件的小程序页面的 JSON 配置文件中，做以下配置： </p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"usingComponents"</span>: &#123;</span><br><span class="line">    <span class="attr">"calendar"</span>: <span class="string">"plugin://calendar/calendar"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4、在相应的 HTML 页面中添加以下语句即可完成插件的嵌入。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">calendar</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>5、说明：默认的用法，将具备以下样式特点：</p>
<ol>
<li>显示当前月份的日历；</li>
<li>显示日历标题、显示上下月按钮；</li>
<li>显示周标题，周标题默认为 cn 类型，即中文简写；</li>
<li>显示日期下方的小圆点；</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:left">属性名</th>
<th style="text-align:left">类型</th>
<th style="text-align:left">默认值</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><code>curYear</code></td>
<td style="text-align:left"><code>Number</code></td>
<td style="text-align:left">当前年份</td>
<td style="text-align:left">年份</td>
</tr>
<tr>
<td style="text-align:left"><code>curMonth</code></td>
<td style="text-align:left"><code>Number</code></td>
<td style="text-align:left">当前月份</td>
<td style="text-align:left">月份 (1 - 12)</td>
</tr>
<tr>
<td style="text-align:left"><code>day</code></td>
<td style="text-align:left"><code>Number</code></td>
<td style="text-align:left">当前日期</td>
<td style="text-align:left">日期 (1-31 若日期超过该月天数，月份自动增加)</td>
</tr>
<tr>
<td style="text-align:left"><code>header_show</code></td>
<td style="text-align:left"><code>Boolean</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">主标题是否显示</td>
</tr>
<tr>
<td style="text-align:left"><code>next</code></td>
<td style="text-align:left"><code>Boolean</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">是否显示下个月按钮</td>
</tr>
<tr>
<td style="text-align:left"><code>prev</code></td>
<td style="text-align:left"><code>Boolean</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">是否显示下个月按钮</td>
</tr>
<tr>
<td style="text-align:left"><code>remark_show</code></td>
<td style="text-align:left"><code>Boolean</code></td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left">备注是否显示</td>
</tr>
<tr>
<td style="text-align:left"><code>remark_style</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left"><code>headline</code></td>
<td style="text-align:left">备注类型</td>
</tr>
<tr>
<td style="text-align:left"><code>count_num</code></td>
<td style="text-align:left"><code>Number</code></td>
<td style="text-align:left">0</td>
<td style="text-align:left">备注类型为date 备注信息1</td>
</tr>
<tr>
<td style="text-align:left"><code>count_ber</code></td>
<td style="text-align:left"><code>Number</code></td>
<td style="text-align:left">0</td>
<td style="text-align:left">备注类型为date 备注信息2</td>
</tr>
<tr>
<td style="text-align:left"><code>count_txt</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left">此处为备注信息</td>
<td style="text-align:left">备注类型为headline 备注信息</td>
</tr>
<tr>
<td style="text-align:left"><code>weekTitle_show</code></td>
<td style="text-align:left"><code>Boolean</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">周标题是否显示</td>
</tr>
<tr>
<td style="text-align:left"><code>week_type</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left"><code>cn</code></td>
<td style="text-align:left">周标题类型</td>
</tr>
<tr>
<td style="text-align:left"><code>active_type</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left"><code>circle</code></td>
<td style="text-align:left">选中日期样式</td>
</tr>
<tr>
<td style="text-align:left"><code>circle_show</code></td>
<td style="text-align:left"><code>Boolean</code></td>
<td style="text-align:left"><code>true</code></td>
<td style="text-align:left">日期下方的点是否显示（每过一天添加一个）</td>
</tr>
<tr>
<td style="text-align:left"><code>pitch_on</code></td>
<td style="text-align:left"><code>String</code></td>
<td style="text-align:left"><code>circle</code></td>
<td style="text-align:left">日期下方的点样式</td>
</tr>
<tr>
<td style="text-align:left"><code>appear</code></td>
<td style="text-align:left"><code>Boolean</code></td>
<td style="text-align:left"><code>false</code></td>
<td style="text-align:left">样式线是否显示</td>
</tr>
<tr>
<td style="text-align:left"><code>mystatus</code></td>
<td style="text-align:left"><code>Array</code></td>
<td style="text-align:left">[ ]</td>
<td style="text-align:left">想要的对应日期的状态 （仅支持1.0.4版以上）</td>
</tr>
</tbody>
</table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">calendar</span> </span></span><br><span class="line"><span class="tag"><span class="attr">cur-year</span>=<span class="string">"&#123;&#123;curYear&#125;&#125;"</span></span></span><br><span class="line"><span class="tag"><span class="attr">cur-month</span>=<span class="string">"&#123;&#123;curMonth&#125;&#125;"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">day</span>=<span class="string">"&#123;&#123;day&#125;&#125;"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">header_show</span>=<span class="string">'&#123;&#123;header_show&#125;&#125;'</span> </span></span><br><span class="line"><span class="tag"><span class="attr">prev</span>=<span class="string">'&#123;&#123;prev&#125;&#125;'</span> </span></span><br><span class="line"><span class="tag"><span class="attr">next</span>=<span class="string">'&#123;&#123;next&#125;&#125;'</span> </span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">    curYear: <span class="keyword">new</span> <span class="built_in">Date</span>().getFullYear(), <span class="comment">// 年份</span></span><br><span class="line">    curMonth: <span class="keyword">new</span> <span class="built_in">Date</span>().getMonth() + <span class="number">1</span>,<span class="comment">// 月份 1-12</span></span><br><span class="line">    day: <span class="keyword">new</span> <span class="built_in">Date</span>().getDate(), <span class="comment">// 日期 1-31 若日期超过该月天数，月份自动增加</span></span><br><span class="line">    header_show: <span class="literal">true</span>, <span class="comment">// 主标题是否显示</span></span><br><span class="line">    prev: <span class="literal">true</span>, <span class="comment">// 上一个月按钮是否显示</span></span><br><span class="line">    next: <span class="literal">true</span>, <span class="comment">// 下一个月按钮是否显示</span></span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<h4 id="remark-style-有效值"><a href="#remark-style-有效值" class="headerlink" title="remark_style 有效值"></a>remark_style 有效值</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>headline</code></td>
<td>普通备注</td>
</tr>
<tr>
<td><code>date</code></td>
<td>出勤备注</td>
</tr>
</tbody>
</table>
<h4 id="week-type-有效值"><a href="#week-type-有效值" class="headerlink" title="week_type 有效值"></a>week_type 有效值</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>cn</code></td>
<td>显示为：日, 一, 二, 三, 四, 五, 六</td>
</tr>
<tr>
<td><code>en</code></td>
<td>显示为：S, M, T, W, T, F, S</td>
</tr>
<tr>
<td><code>full-en</code></td>
<td>显示为：Sun, Mon, Tue, Wed, Thu, Fri, Sat</td>
</tr>
</tbody>
</table>
<h4 id="active-type-有效值"><a href="#active-type-有效值" class="headerlink" title="active_type 有效值"></a>active_type 有效值</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>circle</code></td>
<td>圆形背景</td>
</tr>
<tr>
<td><code>square</code></td>
<td>方形背景</td>
</tr>
</tbody>
</table>
<h4 id="pitch-on-有效值"><a href="#pitch-on-有效值" class="headerlink" title="pitch_on 有效值"></a>pitch_on 有效值</h4><table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>circle</code></td>
<td>圆形背景</td>
</tr>
<tr>
<td><code>square</code></td>
<td>方形背景</td>
</tr>
</tbody>
</table>
<h4 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h4><p>注： 在js写方法 在html传入  </p>
<table>
<thead>
<tr>
<th>事件方法</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>bindnextMonth</code></td>
<td>点击下个月</td>
</tr>
<tr>
<td><code>bindprevMonth</code></td>
<td>点击上个月</td>
</tr>
<tr>
<td><code>bindselectDate</code></td>
<td>点击日期</td>
</tr>
</tbody>
</table>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">calendar</span> <span class="attr">bindselectDate</span>=<span class="string">'selectDate'</span>  <span class="attr">bindnextMonth</span>=<span class="string">'nextMonth'</span> <span class="attr">bindprevMonth</span>=<span class="string">'prevMonth'</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 点击上个月</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">nextMonth: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(e)</span><br><span class="line">  <span class="keyword">const</span> currentYear = e.detail.currentYear;</span><br><span class="line">  <span class="keyword">const</span> currentMonth = e.detail.currentMonth;</span><br><span class="line">  wx.showModal(&#123;</span><br><span class="line">    title: <span class="string">'当前日期'</span>,</span><br><span class="line">    content: <span class="string">'当前年份：'</span> + currentYear + <span class="string">'年\n当前月份：'</span> + currentMonth + <span class="string">'月'</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
<p>事件都有一个e ，可以获取一些返回的信息</p>
<h4 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h4><table>
<thead>
<tr>
<th>类名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>calendar-style</code></td>
<td>日历整体样式</td>
</tr>
<tr>
<td><code>header-style</code></td>
<td>主标题样式</td>
</tr>
<tr>
<td><code>weektitle-style</code></td>
<td>周标题面板样式</td>
</tr>
<tr>
<td><code>datatitle-style</code></td>
<td>日期面板样式</td>
</tr>
<tr>
<td><code>dotcolor-o</code></td>
<td>对应日期的状态为1 日期下方的点颜色变化 目前模拟出勤情况 0:未出勤 1:正常出勤 2:事假 3:病假 9:休息<code>null</code>:暂无数据  即为出勤样式</td>
</tr>
<tr>
<td><code>dotcolor-t</code></td>
<td>对应日期的状态为其他 日期下方的点颜色变化 目前模拟出勤情况 0:未出勤 1:正常出勤 2:事假 3:病假 9:休息 <code>null</code>:暂无数据 即为缺勤样式</td>
</tr>
<tr>
<td><code>headline-style</code></td>
<td>备注类型为headline的备注信息样式</td>
</tr>
<tr>
<td><code>datefont-style</code></td>
<td>日期字体样式</td>
</tr>
<tr>
<td><code>restcolor-style</code></td>
<td>单独设置周六日的样式 此时需考虑优先级 <code>!important</code>（仅支持1.0.4版以上）</td>
</tr>
<tr>
<td><code>active-coloro</code></td>
<td>选中的样式 具体说明请看文档下方的说明（仅支持1.0.5版以上）</td>
</tr>
<tr>
<td><code>active-colort</code></td>
<td>当前日期的样式 具体说明请看文档下方的说明（仅支持1.0.5版以上）</td>
</tr>
</tbody>
</table>
<p>注： </p>
<ol>
<li>在wxss自定义写样式，在html传入；注意优先级!important。</li>
</ol>
<p>例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 主题面板样式  */</span></span><br><span class="line"><span class="selector-class">.header-style</span>&#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#188be4</span> ;  </span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">calendar</span> <span class="attr">header-style</span>=<span class="string">'header-style'</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="样式说明"><a href="#样式说明" class="headerlink" title="样式说明"></a>样式说明</h4><h5 id="选中样式"><a href="#选中样式" class="headerlink" title="选中样式"></a>选中样式</h5><h6 id="日历插件-有个选中样式（默认选中的是当天），如图："><a href="#日历插件-有个选中样式（默认选中的是当天），如图：" class="headerlink" title="日历插件 有个选中样式（默认选中的是当天），如图："></a>日历插件 有个选中样式（默认选中的是当天），如图：</h6><p><img src="http://mmbiz.qpic.cn/mmbiz_png/So65aTxQHqDn5rgG5EHFAvX7y2zBjjCgt9fMhOqIG7t9EQXSmxvInzoUf8nSR1b6lG3U3Iv9xBIbCDJShCk9dw/0" alt="链接"></p>
<p>点击选中其他日期时，样式会出现对应的日期上。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.active-coloro</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#188be4</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="样式二："><a href="#样式二：" class="headerlink" title="样式二："></a>样式二：</h6><p>如果想要一下样式，及：点击其他日期时，显现当天的样式，如图：<br><img src="http://mmbiz.qpic.cn/mmbiz_png/So65aTxQHqDn5rgG5EHFAvX7y2zBjjCgGj7gGKELXQpjTclCiaO5WatNbSicxiarWIUEOJ5IfEzQUQOrVOd9Plh9g/0" alt="链接"></p>
<p>此时在使用页面的<code>wxss</code>中写下已下代码： </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.active-colort</span> &#123;</span><br><span class="line">   <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">   <span class="attribute">background</span>: <span class="number">#b8d5eb</span>;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>使用时考虑优先级，可自己改变想要的颜色</p>
<h5 id="考勤下方小点的样式"><a href="#考勤下方小点的样式" class="headerlink" title="考勤下方小点的样式"></a>考勤下方小点的样式</h5><p>样式如下：</p>
<p><img src="http://mmbiz.qpic.cn/mmbiz_png/So65aTxQHqDn5rgG5EHFAvX7y2zBjjCgUjlvHnTGZRynY3LIhiaMK6IbJOvpRcKpevJrKIFJNBAfiajhCMBkTe8Q/0" alt="链接"></p>
<p>在<code>wxss</code>中定义样式，然后再<code>wxml</code>中传入：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 出勤  */</span></span><br><span class="line"><span class="selector-class">.dotcolor-o</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#188be4</span> !mportant;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 未出勤  */</span></span><br><span class="line"><span class="selector-class">.dotcolor-t</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FF7F50</span> !mportant;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>分别由<code>dotcolor-o</code>（正常出勤）和<code>dotcolor-t</code>（病假、事假） 具体区分病假、事假可以在点击事件中获取e ，有相应的的数据。</li>
<li>如果为<code>null</code>（暂无数据）圆点不会显现，<code>circle_show</code>为<code>true</code> 也无效。</li>
<li><code>circle_show</code>为<code>true</code> 日期下方对应的小点才会显现 ，样式不会显现</li>
<li>小点只会显示到当前的日期。每过一天多一个</li>
</ol>
<h4 id="考勤状态说明"><a href="#考勤状态说明" class="headerlink" title="考勤状态说明"></a>考勤状态说明</h4><p>由于许多项目可能涉及到考勤情况，因此加入了考勤的状态信息（仅支持1.0.4版以上）。目前考勤只支持传入数字：</p>
<p>0:未出勤 1:正常出勤 2:事假 3:病假 9:休息<code>null</code>:暂无数据；具体的对应需要前端页面做相应处理。</p>
<p>方法：</p>
<ol>
<li><p>在<code>js</code>中定义对应的<code>mystatus</code>信息：</p>
<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">data: &#123;</span><br><span class="line">   mystatus: [],  <span class="comment">// 状态  状态  0:未出勤 1:正常出勤 2:事假 3:病假 9:休息 </span></span><br><span class="line"> &#125;,</span><br><span class="line">onLoad:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="comment">//发起状态请求，在请求成功后，定义mystatus</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// 例子就不写请求了，直接定义如下</span></span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">     mystatus: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="literal">null</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="literal">null</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span>, <span class="number">9</span>, <span class="number">9</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">9</span>]</span><br><span class="line">   &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>此时需要注意，如果当天无数据就为null</p>
</li>
<li><p>在<code>wxml</code>中：</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">calendar</span> <span class="attr">mystatus</span>=<span class="string">'&#123;&#123;mystatus&#125;&#125;'</span> <span class="attr">circle_show</span>=<span class="string">"&#123;&#123;true&#125;&#125;"</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p><code>circle_show</code>为<code>true</code> 日期下方对应的小点才会显现 ，具体的样式说明请看上方的样式说明</p>
<ol start="3">
<li><p>在<code>wxss</code>中定义：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 出勤  */</span></span><br><span class="line"><span class="selector-class">.dotcolor-o</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#188be4</span> !mportant;  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 未出勤  */</span></span><br><span class="line"><span class="selector-class">.dotcolor-t</span>&#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#FF7F50</span> !mportant;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol start="4">
<li>可以在点击事件中查看考勤情况</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">selectDate:<span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// console.log(e.detail.status)</span></span><br><span class="line">    <span class="keyword">const</span> date = e.detail.date;</span><br><span class="line">    <span class="keyword">const</span> week = e.detail.week;</span><br><span class="line">    <span class="keyword">var</span> statustext;</span><br><span class="line">    <span class="keyword">if</span>(e.detail.status == <span class="number">1</span>)&#123;</span><br><span class="line">      statustext = <span class="string">"正常出勤"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(e.detail.status == <span class="number">0</span>) &#123;</span><br><span class="line">      statustext = <span class="string">"未出勤"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(e.detail.status == <span class="number">2</span>)&#123;</span><br><span class="line">      statustext = <span class="string">"事假"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(e.detail.status == <span class="number">3</span>) &#123;</span><br><span class="line">      statustext = <span class="string">"病假"</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span>(e.detail.status == <span class="number">9</span>) &#123;</span><br><span class="line">      statustext = <span class="string">"休息"</span></span><br><span class="line">    &#125; <span class="keyword">else</span>&#123;</span><br><span class="line">      statustext = <span class="string">""</span></span><br><span class="line">    &#125;</span><br><span class="line">    wx.showModal(&#123;</span><br><span class="line">        title: <span class="string">'信息'</span>,</span><br><span class="line">        content: <span class="string">'当前时间：'</span> + date + <span class="string">' '</span> + week + <span class="string">' '</span> + statustext</span><br><span class="line">      &#125;);</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>
<p>效果：</p>
<p><img src="http://mmbiz.qpic.cn/mmbiz_png/So65aTxQHqDn5rgG5EHFAvX7y2zBjjCgwA1XibGEibPmrpSU5KMz1R5cWMPsg8Irs6xTjVVWqa7NAw9UiaYWVbHZg/0" alt="链接"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/23/ellipsis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/23/ellipsis/" itemprop="url">文本超出--省略号代替</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-23T10:09:23+08:00">
                2018-06-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/文本超出-省略号/" itemprop="url" rel="index">
                    <span itemprop="name">文本超出--省略号</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="单行文本超出"><a href="#单行文本超出" class="headerlink" title="单行文本超出"></a>单行文本超出</h4><p>css3文字效果<br>text-overflow:ellipsis属性来实现单行文本的溢出显示省略号(…)。部分浏览器还需要加宽度width属性。</p>
<p>text-overflow：规定当文本溢出包含元素时发生的事情。</p>
<table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>clip</td>
<td>修剪文本</td>
</tr>
<tr>
<td>ellipsis</td>
<td>显示省略号来代替被修剪的文字</td>
</tr>
<tr>
<td>string</td>
<td>使用给定字符串代替被修剪的文字</td>
</tr>
</tbody>
</table>
<blockquote>
<p>CSS</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</span><br><span class="line"><span class="selector-tag">white-space</span>: <span class="selector-tag">nowrap</span>;</span><br></pre></td></tr></table></figure>
<h4 id="多行文本超出"><a href="#多行文本超出" class="headerlink" title="多行文本超出"></a>多行文本超出</h4><p> 在WebKit浏览器或移动端（绝大部分是WebKit内核的浏览器）的页面实现比较简单，可以直接使用WebKit的CSS扩展属性(WebKit是私有属性)-webkit-line-clamp；注意：这是一个不规范的属性（unsupported WebKit property），它没有出现在CSS规范草案中。</p>
<p>-webkit-line-clamp用来限制在一个块元素显示的文本的行数。 为了实现该效果，它需要组合其他的WebKit属性。</p>
<blockquote>
<p>常见结合属性：</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span>; 必须结合的属性 ，将对象作为弹性伸缩盒子模型显示 。</span><br><span class="line"><span class="selector-tag">-webkit-box-orient</span> 必须结合的属性 ，设置或检索伸缩盒对象的子元素的排列方式 。</span><br><span class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span> 可以用来多行文本的情况下，用省略号“…”隐藏超出范围的文本 。</span><br></pre></td></tr></table></figure>
<blockquote>
<p>CSS</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">overflow</span> : <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</span><br><span class="line">display: -webkit-box; //必须属性，将元素作为弹性伸缩盒子模型显示。</span><br><span class="line">-webkit-line-clamp: 2; //用来限制在一个块元素显示的文本的行数。 为了实现该效果，它需要组合其他的WebKit属性。</span><br><span class="line">-webkit-box-orient: vertical; // 必须属性，规定弹性伸缩盒子子元素的排列方式。</span><br></pre></td></tr></table></figure>
<p>这个属性比较合适WebKit浏览器或移动端（绝大部分是WebKit内核的）浏览器。</p>
<h4 id="跨浏览器兼容的方案"><a href="#跨浏览器兼容的方案" class="headerlink" title="跨浏览器兼容的方案"></a>跨浏览器兼容的方案</h4><p>比较靠谱简单的做法就是设置相对定位的容器高度，用包含省略号(…)的元素模拟实现；</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">    <span class="attribute">line-height</span>:<span class="number">1.4em</span>;</span><br><span class="line">    <span class="comment">/* 3 times the line-height to show 3 lines */</span></span><br><span class="line">    <span class="attribute">height</span>:<span class="number">4.2em</span>;</span><br><span class="line">    <span class="attribute">overflow</span>:hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>:<span class="string">"..."</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>:bold;</span><br><span class="line">    <span class="attribute">position</span>:absolute;</span><br><span class="line">    <span class="attribute">bottom</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>:<span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>:<span class="number">0</span> <span class="number">20px</span> <span class="number">1px</span> <span class="number">45px</span>;</span><br><span class="line">    <span class="attribute">background</span>:<span class="built_in">url</span>(http://newimg88.b0.upaiyun.com/newimg88/2014/09/ellipsis_bg.png) repeat-y;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="JavaScript实现"><a href="#JavaScript实现" class="headerlink" title="JavaScript实现"></a>JavaScript实现</h4><p>1.Clamp.js<br>下载及文档地址：<a href="https://github.com/josephschmitt/Clamp.js" target="_blank" rel="noopener">https://github.com/josephschmitt/Clamp.js</a></p>
<blockquote>
<p>Js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="built_in">module</span> = <span class="built_in">document</span>.getElementById(<span class="string">"clamp-this-module"</span>);</span><br><span class="line">$clamp(<span class="built_in">module</span>, &#123;<span class="attr">clamp</span>: <span class="number">3</span>&#125;);</span><br></pre></td></tr></table></figure>
<h6 id="例"><a href="#例" class="headerlink" title="例"></a>例</h6><blockquote>
<p>js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// https://github.com/josephschmitt/Clamp.js</span></span><br><span class="line"><span class="keyword">var</span> <span class="built_in">module</span> = <span class="built_in">document</span>.getElementById(<span class="string">"clampjs"</span>);</span><br><span class="line">$clamp(<span class="built_in">module</span>, &#123;<span class="attr">clamp</span>: <span class="number">3</span>&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://github.com/ftlabs/ftellipsis</span></span><br><span class="line"><span class="keyword">var</span> element = <span class="built_in">document</span>.getElementById(<span class="string">'ftellipsis'</span>);</span><br><span class="line"><span class="keyword">var</span> ellipsis = <span class="keyword">new</span> Ellipsis(element);</span><br><span class="line"></span><br><span class="line">ellipsis.calc();</span><br><span class="line">ellipsis.set();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// https://codepen.io/Merri/pen/Dsuim</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * TextOverflowClamp.js</span></span><br><span class="line"><span class="comment">  *</span></span><br><span class="line"><span class="comment">  * Updated 2013-05-09 to remove jQuery dependancy.</span></span><br><span class="line"><span class="comment">  * But be careful with webfonts!</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bind function support for older browsers without it</span></span><br><span class="line"><span class="comment">// https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Function/bind</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.bind) &#123;</span><br><span class="line">  <span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span> (<span class="params">oThis</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> !== <span class="string">"function"</span>) &#123;</span><br><span class="line">      <span class="comment">// closest thing possible to the ECMAScript 5 internal IsCallable function</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">"Function.prototype.bind - what is trying to be bound is not callable"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">var</span> aArgs = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>),</span><br><span class="line">        fToBind = <span class="keyword">this</span>,</span><br><span class="line">        fNOP = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">        fBound = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">          <span class="keyword">return</span> fToBind.apply(<span class="keyword">this</span> <span class="keyword">instanceof</span> fNOP &amp;&amp; oThis</span><br><span class="line">                                 ? <span class="keyword">this</span></span><br><span class="line">                                 : oThis,</span><br><span class="line">                               aArgs.concat(<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>)));</span><br><span class="line">        &#125;;</span><br><span class="line"> </span><br><span class="line">    fNOP.prototype = <span class="keyword">this</span>.prototype;</span><br><span class="line">    fBound.prototype = <span class="keyword">new</span> fNOP();</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> fBound;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the actual meat is here</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">w, d</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> clamp, measure, text, lineWidth,</span><br><span class="line">        lineStart, lineCount, wordStart,</span><br><span class="line">        line, lineText, wasNewLine,</span><br><span class="line">    ce = d.createElement.bind(d),</span><br><span class="line">    ctn = d.createTextNode.bind(d);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// measurement element is made a child of the clamped element to get it's style</span></span><br><span class="line">    measure = ce(<span class="string">'span'</span>);</span><br><span class="line">  </span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">s</span>)</span>&#123;</span><br><span class="line">        s.position = <span class="string">'absolute'</span>; <span class="comment">// prevent page reflow</span></span><br><span class="line">        s.whiteSpace = <span class="string">'pre'</span>; <span class="comment">// cross-browser width results</span></span><br><span class="line">        s.visibility = <span class="string">'hidden'</span>; <span class="comment">// prevent drawing</span></span><br><span class="line">    &#125;)(measure.style);</span><br><span class="line">    </span><br><span class="line">    clamp = <span class="function"><span class="keyword">function</span> (<span class="params">el, lineClamp</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// make sure the element belongs to the document</span></span><br><span class="line">    <span class="keyword">if</span>(!el.ownerDocument || !el.ownerDocument === d) <span class="keyword">return</span>;</span><br><span class="line">        <span class="comment">// reset to safe starting values</span></span><br><span class="line">        lineStart = wordStart = <span class="number">0</span>;</span><br><span class="line">        lineCount = <span class="number">1</span>;</span><br><span class="line">        wasNewLine = <span class="literal">false</span>; </span><br><span class="line">        lineWidth = el.clientWidth;</span><br><span class="line">        <span class="comment">// get all the text, remove any line changes</span></span><br><span class="line">        text = (el.textContent || el.innerText).replace(<span class="regexp">/\n/g</span>, <span class="string">' '</span>);</span><br><span class="line">        <span class="comment">// remove all content</span></span><br><span class="line">        <span class="keyword">while</span>(el.firstChild !== <span class="literal">null</span>)</span><br><span class="line">            el.removeChild(el.firstChild);</span><br><span class="line">        <span class="comment">// add measurement element within so it inherits styles</span></span><br><span class="line">        el.appendChild(measure);</span><br><span class="line">        <span class="comment">// http://ejohn.org/blog/search-and-dont-replace/</span></span><br><span class="line">        text.replace(<span class="regexp">/ /g</span>, <span class="function"><span class="keyword">function</span>(<span class="params">m, pos</span>) </span>&#123;</span><br><span class="line">            <span class="comment">// ignore any further processing if we have total lines</span></span><br><span class="line">      <span class="keyword">if</span>(lineCount === lineClamp) <span class="keyword">return</span>;</span><br><span class="line">            <span class="comment">// create a text node and place it in the measurement element</span></span><br><span class="line">            measure.appendChild(ctn(text.substr(lineStart, pos - lineStart)));</span><br><span class="line">            <span class="comment">// have we exceeded allowed line width?</span></span><br><span class="line">            <span class="keyword">if</span>(lineWidth &lt; measure.clientWidth) &#123;</span><br><span class="line">                <span class="keyword">if</span>(wasNewLine) &#123;</span><br><span class="line">                    <span class="comment">// we have a long word so it gets a line of it's own</span></span><br><span class="line">                    lineText = text.substr(lineStart, pos + <span class="number">1</span> - lineStart);</span><br><span class="line">                    <span class="comment">// next line start position</span></span><br><span class="line">                    lineStart = pos + <span class="number">1</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// grab the text until this word</span></span><br><span class="line">                    lineText = text.substr(lineStart, wordStart - lineStart);</span><br><span class="line">                    <span class="comment">// next line start position</span></span><br><span class="line">                    lineStart = wordStart;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// create a line element</span></span><br><span class="line">                line = ce(<span class="string">'span'</span>);</span><br><span class="line">                <span class="comment">// add text to the line element</span></span><br><span class="line">                line.appendChild(ctn(lineText));</span><br><span class="line">                <span class="comment">// add the line element to the container</span></span><br><span class="line">                el.appendChild(line);</span><br><span class="line">                <span class="comment">// yes, we created a new line</span></span><br><span class="line">                wasNewLine = <span class="literal">true</span>;</span><br><span class="line">        lineCount++;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// did not create a new line</span></span><br><span class="line">                wasNewLine = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// remember last word start position</span></span><br><span class="line">            wordStart = pos + <span class="number">1</span>;</span><br><span class="line">            <span class="comment">// clear measurement element</span></span><br><span class="line">            measure.removeChild(measure.firstChild);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// remove the measurement element from the container</span></span><br><span class="line">        el.removeChild(measure);</span><br><span class="line">        <span class="comment">// create the last line element</span></span><br><span class="line">        line = ce(<span class="string">'span'</span>);</span><br><span class="line">        <span class="comment">// give styles required for text-overflow to kick in</span></span><br><span class="line">        (<span class="function"><span class="keyword">function</span>(<span class="params">s</span>)</span>&#123;</span><br><span class="line">            s.display = <span class="string">'inline-block'</span>;</span><br><span class="line">            s.overflow = <span class="string">'hidden'</span>;</span><br><span class="line">            s.textOverflow = <span class="string">'ellipsis'</span>;</span><br><span class="line">            s.whiteSpace = <span class="string">'nowrap'</span>;</span><br><span class="line">            s.width = <span class="string">'100%'</span>;</span><br><span class="line">        &#125;)(line.style);</span><br><span class="line">        <span class="comment">// add all remaining text to the line element</span></span><br><span class="line">        line.appendChild(ctn(text.substr(lineStart)));</span><br><span class="line">        <span class="comment">// add the line element to the container</span></span><br><span class="line">        el.appendChild(line);</span><br><span class="line">    &#125;</span><br><span class="line">    w.clamp = clamp;</span><br><span class="line">&#125;)(<span class="built_in">window</span>, <span class="built_in">document</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// the only bit of jQuery</span></span><br><span class="line">$(<span class="built_in">window</span>).bind(<span class="string">'load'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  clamp(<span class="built_in">document</span>.getElementById(<span class="string">'textoverflowclamp'</span>), <span class="number">3</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>html</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Line Clampin'<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Weird WebKit Flexbox Way<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module line-clamp"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Fade Out Way<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module fade"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Opera Overflow Way<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module last-line"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Clamp.js Way<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module js"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">"clampjs"</span>&gt;</span>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>ftellipsis Way<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module js ftellipsis"</span> <span class="attr">id</span>=<span class="string">"ftellipsis"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>TextOverflowClamp.js Way<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"module js textoverflowclamp"</span> <span class="attr">id</span>=<span class="string">"textoverflowclamp"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Vestibulum tortor quam, feugiat vitae, ultricies eget, tempor sit amet, ante. Donec eu libero sit amet quam egestas semper. Aenean ultricies mi vitae est. Mauris placerat eleifend leo.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>css</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> url(https://fonts.googleapis.com/css?family=Open+Sans);</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font</span>: <span class="number">1.2em</span>/<span class="number">1.2em</span> <span class="string">'Open Sans'</span>, sans-serif;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.module</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1em</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.module</span> <span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.line-clamp</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">-webkit-line-clamp</span>: <span class="number">3</span>;</span><br><span class="line">  <span class="attribute">-webkit-box-orient</span>: vertical;  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.fade</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3.6em</span>; <span class="comment">/* exactly three lines */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fade</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">""</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: right;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">70%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1.2em</span>;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to right, rgba(255, 255, 255, 0), <span class="built_in">rgba</span>(255, 255, 255, 1) <span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.last-line</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3.6em</span>; <span class="comment">/* exactly three lines */</span></span><br><span class="line">  <span class="attribute">text-overflow</span>: -o-ellipsis-lastline;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.ftellipsis</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3.6em</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">h1</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1em</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">h2</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.2em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.jQuery插件-jQuery.dotdotdot</p>
<blockquote>
<p>js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">	$(<span class="string">"#wrapper"</span>).dotdotdot(&#123;</span><br><span class="line">		<span class="comment">//	configuration goes here</span></span><br><span class="line">	&#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>下载及详细文档地址：<a href="https://github.com/BeSite/jQuery.dotdotdot或http://dotdotdot.frebsite.nl/" target="_blank" rel="noopener">https://github.com/BeSite/jQuery.dotdotdot或http://dotdotdot.frebsite.nl/</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/21/border/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/21/border/" itemprop="url">border</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-21T16:40:15+08:00">
                2018-06-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/border/" itemprop="url" rel="index">
                    <span itemprop="name">border</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h5 id="安卓、小程序css的border不显示问题"><a href="#安卓、小程序css的border不显示问题" class="headerlink" title="安卓、小程序css的border不显示问题"></a>安卓、小程序css的border不显示问题</h5><p>rem是相对于html font size设置的，0.01rem可能少于1px；在部分android上是不现实的。</p>
<p>在小程序用采用的rpx动态单位，偶然一次在将其中一个border设置为1rpx，之后发现在个别手机上border也是无法显示的，感觉与rem的原因类似。</p>
<p>不论在移动端 微信端还是在PC端，border最好采用px单位进行显示。</p>
<h5 id="TR使用css的border不显示问题"><a href="#TR使用css的border不显示问题" class="headerlink" title="TR使用css的border不显示问题"></a>TR使用css的border不显示问题</h5><p>使用border-collapse解决</p>
<blockquote>
<p>例<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">width</span>=<span class="string">"99%"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span> <span class="attr">cellpadding</span>=<span class="string">"0"</span> <span class="attr">style</span>=<span class="string">"border-collapse:collapse;"</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">tr</span> <span class="attr">style</span>=<span class="string">"border:1px solid #f7900f;background-color:#fff1cc;height:25px;"</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">td</span>&gt;</span>信息标题、物品类型、游戏/区/服<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">td</span>&gt;</span>交易类型<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">td</span>&gt;</span>交易状态<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">td</span>&gt;</span>价格排序<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">td</span>&gt;</span>库存<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">td</span>&gt;</span>单价排序<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<h5 id="一个盒子里的子元素都使用浮动之后，部分浏览器盒子border不显示"><a href="#一个盒子里的子元素都使用浮动之后，部分浏览器盒子border不显示" class="headerlink" title="一个盒子里的子元素都使用浮动之后，部分浏览器盒子border不显示"></a>一个盒子里的子元素都使用浮动之后，部分浏览器盒子border不显示</h5><ol>
<li>在盒子最后添加子元素:<div style="clear: both;"></div> </li>
</ol>
<blockquote>
<p>例</p>
</blockquote>
<blockquote>
<p>html</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"abs_width"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main_menu"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/items.asp"</span>&gt;</span>EXACT维修项目<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/lists.asp"</span>&gt;</span>EXACT维修目录<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/flow.asp"</span>&gt;</span>维修处理程序<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/###"</span>&gt;</span>代理产品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span>公司简介<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            中华人民共和国</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  //  <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"clear: both;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span>  //放开之后border显示，注释之后不显示</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>css</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.abs_width</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">text-align</span>:left;</span><br><span class="line">    <span class="attribute">padding-left</span>:<span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">1px</span> solid red;</span><br><span class="line">    <span class="attribute">border-right</span>:<span class="number">1px</span> solid red;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.main_menu</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">248px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#content</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>使用伪类清除</li>
</ol>
<blockquote>
<p>例<br>html </p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--这个clearfix的CSS使用了after这个伪对象，它将在应用clearfix的元素的结尾添加content中的内容。在这里添加了一个句号"."，并且把它的display设置成block；高度设为0；clear设为both；visibility设为隐藏。--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"abs_width"</span>  <span class="attr">class</span>=<span class="string">"clearfix"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"main_menu"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/items.asp"</span>&gt;</span>EXACT维修项目<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/lists.asp"</span>&gt;</span>EXACT维修目录<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/flow.asp"</span>&gt;</span>维修处理程序<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"/###"</span>&gt;</span>代理产品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span>&gt;</span>公司简介<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            中华人民共和国</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>css</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clearfix</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">"."</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">* <span class="selector-tag">html</span> <span class="selector-class">.clearfix</span> &#123;<span class="attribute">height</span>: <span class="number">1%</span>;&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.abs_width</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">600px</span>;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">text-align</span>:left;</span><br><span class="line">    <span class="attribute">padding-left</span>:<span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>:<span class="number">1px</span> solid red;</span><br><span class="line">    <span class="attribute">border-right</span>:<span class="number">1px</span> solid red;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.main_menu</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">248px</span>;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">padding-right</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>:<span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-id">#content</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">padding-left</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/15/scroll/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/15/scroll/" itemprop="url">滚动条</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-15T14:08:19+08:00">
                2018-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/滚动条/" itemprop="url" rel="index">
                    <span itemprop="name">滚动条</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h5 id="overflow属性-（一共有5个）"><a href="#overflow属性-（一共有5个）" class="headerlink" title="overflow属性 （一共有5个）:"></a>overflow属性 （一共有5个）:</h5></blockquote>
<blockquote>
<p> 1、overflow:auto; 内容会被修剪，超出设置的宽高后会出现滚动条。</p>
</blockquote>
<blockquote>
<p> 2、overflow:scroll; 内容会被修剪，不管内容是否超出，都会出现滚动条的位置。</p>
</blockquote>
<blockquote>
<p> 3、overflow:visible; 这个是默认值，内容不会被修剪，会出现在元素框外面。</p>
</blockquote>
<blockquote>
<p> 4、overflow:hidden; 内容被修剪，多余的内容被隐藏。</p>
</blockquote>
<blockquote>
<p> 5、overflow:inherit; 从父元素那里继承overflow的值。</p>
</blockquote>
<blockquote>
<h5 id="一、-怎么只显示横向的滚动条？"><a href="#一、-怎么只显示横向的滚动条？" class="headerlink" title="一、 怎么只显示横向的滚动条？"></a>一、 怎么只显示横向的滚动条？</h5></blockquote>
<blockquote>
<p>可以设置overflow-x:scroll,或者overflow-y:hidden即可实现这个效果。</p>
</blockquote>
<blockquote>
<p>提示：</p>
</blockquote>
<blockquote>
<ol>
<li>同理如果设置overflow-y:scroll或者overflow-x:hidden是只显示竖的滚动条，不显示横向的滚动条。</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>如果设置横向滚动条的时候，一直不显示横向拉的那个条是因为你的内容还不足以让它显示出来，如果是文字的话，它自动换行了，所以就不显示，当设置white-space:nowrap;（不换行）的时候，内容超出就会出现</li>
</ol>
</blockquote>
<blockquote>
<h5 id="二、-自定义滚动条样式"><a href="#二、-自定义滚动条样式" class="headerlink" title="二、 自定义滚动条样式"></a>二、 自定义滚动条样式</h5></blockquote>
<blockquote>
<p>具体样式自己修改</p>
</blockquote>
<blockquote>
<h6 id="IE"><a href="#IE" class="headerlink" title="IE"></a>IE</h6></blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// IE浏览器支持通过CSS样式来改变滚动条的部件的自定义颜色</span><br><span class="line">滚动条颜色参数设置：</span><br><span class="line"><span class="selector-tag">scrollbar-3d-light-color</span> 设置或检索滚动条亮边框颜色</span><br><span class="line"><span class="selector-tag">scrollbar-highlight-color</span> 设置或检索滚动条3<span class="selector-tag">D</span>界面的亮边（<span class="selector-tag">ThreedHighlight</span>）颜色</span><br><span class="line"><span class="selector-tag">scrollbar-face-color</span> 设置或检索滚动条3<span class="selector-tag">D</span>表面（<span class="selector-tag">ThreedFace</span>）的颜色</span><br><span class="line"><span class="selector-tag">scrollbar-arrow-color</span> 设置或检索滚动条方向箭头的颜色</span><br><span class="line"><span class="selector-tag">scrollbar-shadow-color</span> 设置或检索滚动条3<span class="selector-tag">D</span>界面的暗边（<span class="selector-tag">ThreedShadow</span>）颜色</span><br><span class="line"><span class="selector-tag">scrollbar-dark-shadow-color</span> 设置或检索滚动条暗边框（<span class="selector-tag">ThreedDarkShadow</span>）颜色</span><br><span class="line"><span class="selector-tag">scrollbar-base-color</span> 设置或检索滚动条基准颜色</span><br><span class="line"></span><br><span class="line">// 这3个效果建议必须设置</span><br><span class="line"><span class="selector-tag">scrollbar-face-color</span>:<span class="selector-id">#F00</span>;  滚动条凸出部分的颜色(前景色),包括两端的方形按钮、水平或竖直滑动的滑块的颜色</span><br><span class="line"><span class="selector-tag">scrollbar-track-color</span>:<span class="selector-id">#FFF</span>; 滚动条的背景颜色,如果省略的话将出现虚点，颜色将采用<span class="selector-tag">face-color</span>的颜色</span><br><span class="line"><span class="selector-tag">scrollbar-arrow-color</span>:<span class="selector-id">#FFF</span>; 按钮(上下或者左右可以点击使滑块滚动的方形按钮)上三角箭头的颜色</span><br></pre></td></tr></table></figure>
<blockquote>
<p>提示</p>
</blockquote>
<blockquote>
<p>滚动条的层叠关系为scrollbar在最底层，往上依次是track外层轨道，track-piece内层轨道。而button按钮、corner边角和thumb滑块有最顶层</p>
</blockquote>
<blockquote>
<h6 id="只在webkit内核浏览器下才生效（谷歌）"><a href="#只在webkit内核浏览器下才生效（谷歌）" class="headerlink" title="只在webkit内核浏览器下才生效（谷歌）"></a>只在webkit内核浏览器下才生效（谷歌）</h6></blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">// webkit内核的浏览器支持滚动条自定义样式，但和IE不同，webkit是通过伪类来实现的</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line"></span><br><span class="line"> 	 <span class="comment">/*滚动条整体样式*/</span></span><br><span class="line"> 	 </span><br><span class="line"> 	 <span class="attribute">width</span>: <span class="number">3px</span>;</span><br><span class="line">  	<span class="comment">/*高宽分别对应横竖滚动条的尺寸*/</span></span><br><span class="line"> 	 <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line"></span><br><span class="line"> 	 <span class="comment">/*滚动条里面小方块*/</span></span><br><span class="line"></span><br><span class="line">  	<span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line">  	<span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.2);</span><br><span class="line">  	<span class="attribute">background</span>: red; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">  	</span><br><span class="line">	<span class="comment">/*滚动条里面轨道*/</span></span><br><span class="line"></span><br><span class="line"> 	 <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> <span class="built_in">rgba</span>(0, 0, 0, 0.2);</span><br><span class="line"> 	 <span class="attribute">border-radius</span>: <span class="number">30px</span>;</span><br><span class="line"> 	 <span class="attribute">background</span>: <span class="number">#EDEDED</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="attribute">background-color</span>:<span class="number">#00aff0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track-piece</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*内层轨道*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-corner</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/*边角*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 两端按钮 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//  前面加上需要添加样式的标签名/类名/id等，就可以了.</span><br><span class="line">例如</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line"> 	 <span class="attribute">width</span>: <span class="number">3px</span>;</span><br><span class="line"> 	 <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h6 id="火狐："><a href="#火狐：" class="headerlink" title="火狐："></a>火狐：</h6></blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">@-<span class="keyword">moz</span>-<span class="keyword">document</span> url-prefix(http://),url-prefix(https://) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 滚动条颜色 */</span></span><br><span class="line">    <span class="selector-tag">scrollbar</span> &#123;</span><br><span class="line">        <span class="attribute">-moz-appearance</span>: none <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">rgb</span>(0,255,0) <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* 滚动条按钮颜色 */</span></span><br><span class="line">    <span class="selector-tag">thumb</span>,<span class="selector-tag">scrollbarbutton</span> &#123;</span><br><span class="line">        <span class="attribute">-moz-appearance</span>: none <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(0,0,255) <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* 鼠标悬停时按钮颜色 */</span></span><br><span class="line">    <span class="selector-tag">thumb</span><span class="selector-pseudo">:hover</span>,<span class="selector-tag">scrollbarbutton</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">        <span class="attribute">-moz-appearance</span>: none <span class="meta">!important</span>;</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="built_in">rgb</span>(255,0,0) <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* 隐藏上下箭头 */</span></span><br><span class="line">    <span class="selector-tag">scrollbarbutton</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/* 纵向滚动条宽度 */</span></span><br><span class="line">    <span class="selector-tag">scrollbar</span><span class="selector-attr">[orient="vertical"]</span> &#123;</span><br><span class="line">        <span class="attribute">min-width</span>: <span class="number">15px</span> <span class="meta">!important</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="三、-在原来的HTML的时候，我们可以这样html用定义整个页面的滚动条，但现在XHTML却无法用html定义页面滚动条"><a href="#三、-在原来的HTML的时候，我们可以这样html用定义整个页面的滚动条，但现在XHTML却无法用html定义页面滚动条" class="headerlink" title="三、 在原来的HTML的时候，我们可以这样html用定义整个页面的滚动条，但现在XHTML却无法用html定义页面滚动条"></a>三、 在原来的HTML的时候，我们可以这样html用定义整个页面的滚动条，但现在XHTML却无法用html定义页面滚动条</h5></blockquote>
<blockquote>
<p>同样的代码，应用在XHTML下就不起作用了<br>在HTML里面定义的是body，因为html不是很标准所以这样可以生效，而在XHTML里面这样就不行了，<br>body标签本身不是根元素，只有html才是根元素，而页面的滚动条也是属于根元素的，所以这就是为什么定义body没有效果的原因，因为我们定义的只是一个子原素。知道了原理，如果把定义”body”或”xhtml”换成”<em>“，在html和xhtml都通过，因为</em>就是定义页面上的任何标签当然也包括了“html”这个标签</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">HTML</span> 页面下：</span><br><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    scrollbar-3dlight-color:#D4D0C8; /*- 最外左 -*/</span><br><span class="line">    <span class="selector-tag">scrollbar-highlight-color</span>:<span class="selector-id">#fff</span>; <span class="comment">/*- 左二 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-face-color</span>:<span class="selector-id">#E4E4E4</span>; <span class="comment">/*- 面子 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-arrow-color</span>:<span class="selector-id">#666</span>; <span class="comment">/*- 箭头 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-shadow-color</span>:<span class="selector-id">#808080</span>; <span class="comment">/*- 右二 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-darkshadow-color</span>:<span class="selector-id">#D7DCE0</span>; <span class="comment">/*- 右一 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-base-color</span>:<span class="selector-id">#D7DCE0</span>; <span class="comment">/*- 基色 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-track-color</span>:#;<span class="comment">/*- 滑道 -*/</span></span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="selector-tag">XHTML</span> 页面下：</span><br><span class="line"><span class="selector-tag">html</span>&#123;</span><br><span class="line">    scrollbar-3dlight-color:#D4D0C8; /*- 最外左 -*/</span><br><span class="line">    <span class="selector-tag">scrollbar-highlight-color</span>:<span class="selector-id">#fff</span>; <span class="comment">/*- 左二 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-face-color</span>:<span class="selector-id">#E4E4E4</span>; <span class="comment">/*- 面子 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-arrow-color</span>:<span class="selector-id">#666</span>; <span class="comment">/*- 箭头 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-shadow-color</span>:<span class="selector-id">#808080</span>; <span class="comment">/*- 右二 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-darkshadow-color</span>:<span class="selector-id">#D7DCE0</span>; <span class="comment">/*- 右一 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-base-color</span>:<span class="selector-id">#D7DCE0</span>; <span class="comment">/*- 基色 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-track-color</span>:#;<span class="comment">/*- 滑道 -*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*&#123; </span><br><span class="line">    scrollbar-3dlight-color:#D4D0C8; /*- 最外左 -*/</span><br><span class="line">    <span class="selector-tag">scrollbar-highlight-color</span>:<span class="selector-id">#fff</span>; <span class="comment">/*- 左二 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-face-color</span>:<span class="selector-id">#E4E4E4</span>; <span class="comment">/*- 面子 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-arrow-color</span>:<span class="selector-id">#666</span>; <span class="comment">/*- 箭头 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-shadow-color</span>:<span class="selector-id">#808080</span>; <span class="comment">/*- 右二 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-darkshadow-color</span>:<span class="selector-id">#D7DCE0</span>; <span class="comment">/*- 右一 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-base-color</span>:<span class="selector-id">#D7DCE0</span>; <span class="comment">/*- 基色 -*/</span></span><br><span class="line">    <span class="selector-tag">scrollbar-track-color</span>:#;<span class="comment">/*- 滑道 -*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="四、-隐藏滚动条"><a href="#四、-隐藏滚动条" class="headerlink" title="四、  隐藏滚动条"></a>四、  隐藏滚动条</h5></blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">如果只需要兼容移动浏览器（<span class="selector-tag">Chrome</span> 和 <span class="selector-tag">Safari</span>），可以使用自定义滚动条的伪对象选择器<span class="selector-pseudo">::-webkit-scrollbar</span>。</span><br><span class="line">既保证隐藏滚动条的同时还可以继续通过滚轮向下翻。当然仅限于在支持<span class="selector-tag">css3</span>的浏览器。</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>:none</span><br><span class="line">&#125;</span><br><span class="line">或者</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">color</span>: transparent;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">如果是其他浏览器的话，可以麻烦点，先<span class="selector-tag">overflow</span><span class="selector-pseudo">:hidden</span>; 然后再用写个滚轮向上滚或者向下滚的事件来模拟。</span><br></pre></td></tr></table></figure>
<blockquote>
<p>xhtml中隐藏滚动条</p>
</blockquote>
<blockquote>
<p>在用ie6浏览有框架的xhtml页面的时候，默认会水平和垂直滚动条会一起出现，这是ie6的一个bug，在firefox上是正常的，出现的原因是其对XHTML 1.0 transitional doctype的解释缺陷.对于这个bug一般有3种解决方案，</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1. <span class="selector-tag">html</span> &#123; <span class="attribute">overflow-y</span>: scroll; &#125;</span><br><span class="line"></span><br><span class="line">原理：强制显示<span class="selector-tag">ie</span>的垂直滚动条，而忽略水平滚动条</span><br><span class="line">优点：完全解决了这个问题, 允许你保持完整的<span class="selector-tag">XHTML</span> <span class="selector-tag">doctype</span>.</span><br><span class="line">缺点：即使页面不需要垂直滚动条的时候也会出现垂直滚动条。</span><br><span class="line"></span><br><span class="line">2. <span class="selector-tag">html</span> &#123; <span class="attribute">overflow-x</span>: hidden; <span class="attribute">overflow-y</span>: auto; &#125;</span><br><span class="line"></span><br><span class="line">原理：隐藏横向滚动，垂直滚动根据内容自适应</span><br><span class="line">优点：在视觉上解决了这个问题.在不必要的时候, 未强制垂直滚动条出现.</span><br><span class="line">缺点：只是隐藏了水平滚动条，如果页面真正需要水平滚动条的时候，</span><br><span class="line">屏幕以外的内容会因为用户无法水平滚动，而看不到。</span><br><span class="line"></span><br><span class="line">3<span class="selector-class">.body</span> &#123; <span class="attribute">margin-right</span>: -<span class="number">15px</span>; <span class="attribute">margin-bottom</span>: -<span class="number">15px</span>; &#125;</span><br><span class="line"></span><br><span class="line">原理：这会在<span class="selector-tag">margin</span>的水平和垂直方向上添加一个负值, <span class="selector-tag">IE</span>添加了该精确数值后, 便会去除对滚动条的需求假象.</span><br><span class="line">优点：在视觉上解决了这个问题.，垂直滚动根据内容自适应</span><br><span class="line">缺点：由于"人为创建"了15<span class="selector-tag">px</span>的外边距(<span class="selector-tag">margin</span>), 所以无法使用该填充过的屏幕区域.</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="五、-有关滚动条的伪类"><a href="#五、-有关滚动条的伪类" class="headerlink" title="五、 有关滚动条的伪类"></a>五、 有关滚动条的伪类</h5></blockquote>
<blockquote>
<p>只适用于webkit内核浏览器下</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:horizontal</span></span><br><span class="line"> //horizontal伪类适用于任何水平方向上的滚动条</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:vertical</span></span><br><span class="line">    //vertical伪类适用于任何垂直方向的滚动条</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:decrement</span></span><br><span class="line">    //decrement伪类适用于按钮和轨道碎片。表示递减的按钮或轨道碎片，例如可以使区域向上或者向右移动的区域和按钮</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:increment</span></span><br><span class="line">    //increment伪类适用于按钮和轨道碎片。表示递增的按钮或轨道碎片，例如可以使区域向下或者向左移动的区域和按钮</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:start</span></span><br><span class="line">    //start伪类适用于按钮和轨道碎片。表示对象（按钮 轨道碎片）是否放在滑块的前面</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:end</span></span><br><span class="line">    //end伪类适用于按钮和轨道碎片。表示对象（按钮 轨道碎片）是否放在滑块的后面</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:double-button</span></span><br><span class="line">    //double-button伪类适用于按钮和轨道碎片。判断轨道结束的位置是否是一对按钮。也就是轨道碎片紧挨着一对在一起的按钮。</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:single-button</span></span><br><span class="line">    //single-button伪类适用于按钮和轨道碎片。判断轨道结束的位置是否是一个按钮。也就是轨道碎片紧挨着一个单独的按钮。</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:no-button</span></span><br><span class="line">    <span class="selector-tag">no-button</span>伪类表示轨道结束的位置没有按钮。</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:corner-present</span></span><br><span class="line">    //corner-present伪类表示滚动条的角落是否存在。</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:window-inactive</span></span><br><span class="line">    //适用于所有滚动条，表示包含滚动条的区域，焦点不在该窗口的时候。</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track-piece</span><span class="selector-pseudo">:start</span> &#123;</span><br><span class="line">    <span class="comment">/*滚动条上半边或左半边*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span><span class="selector-pseudo">:window-inactive</span> &#123;</span><br><span class="line">    <span class="comment">/*当焦点不在当前区域滑块的状态*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-button</span><span class="selector-pseudo">:horizontal</span><span class="selector-pseudo">:decrement</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">    <span class="comment">/*当鼠标在水平滚动条下面的按钮上的状态*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/15/input-monitor/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/15/input-monitor/" itemprop="url">对input的内容进行监听的方法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-15T11:42:16+08:00">
                2018-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS/" itemprop="url" rel="index">
                    <span itemprop="name">JS</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JS/input/" itemprop="url" rel="index">
                    <span itemprop="name">input</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>1、在元素上同时绑定 oninput 和onporpertychanger事件</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/JavaScript"</span>&gt;</span><br><span class="line">	<span class="function"><span class="keyword">function</span> <span class="title">myinputchange</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">		alert(<span class="string">"inputting!!"</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;input type="text" id="myinput" oninput="myinputchange(event)" onporpertychange="myinputchange(event)" /</span>&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>2、使用原生js添加监听事件</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"> $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(<span class="string">"\v"</span>==<span class="string">"v"</span>)&#123;</span><br><span class="line">		<span class="comment">//true为IE浏览器，感兴趣的可以去搜下，据说是现有最流行的判断浏览器的方法</span></span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"myinput"</span>).attachEvent(<span class="string">"onporpertychange"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"inputting!!"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="built_in">document</span>.getElementById(<span class="string">"myinput"</span>).addEventListener(<span class="string">"onporpertychange"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">        	<span class="built_in">console</span>.log(<span class="string">"inputting!!"</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;input type="text" id="myinput"/</span>&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>3、使用jQuery方法绑定事件</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">     $(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        $(<span class="string">"#myinput"</span>).bind(<span class="string">'input porpertychange'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"e"</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;input type="text" id="myinput"/</span>&gt;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/15/wx-richText/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/15/wx-richText/" itemprop="url">wx-richText</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-15T10:52:53+08:00">
                2018-06-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/" itemprop="url" rel="index">
                    <span itemprop="name">小程序</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/rich-text/" itemprop="url" rel="index">
                    <span itemprop="name">rich-text</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<h4 id="富文本解析"><a href="#富文本解析" class="headerlink" title="富文本解析"></a>富文本解析</h4></blockquote>
<blockquote>
<p>可以使用wxParse这个插件:</p>
</blockquote>
<blockquote>
<ol>
<li>首先先<a href="https://github.com/icindy/wxParse" target="_blank" rel="noopener">下载wxParse</a>这个插件到微信小程序对应的文件夹中。</li>
</ol>
</blockquote>
<blockquote>
<ol start="2">
<li>在.js文件中引入：var WxParse = require(‘../../wxParse/wxParse.js’)</li>
</ol>
</blockquote>
<blockquote>
<ol start="3">
<li>在.wxss文件中引入：@import “/wxParse/wxParse.wxss”</li>
</ol>
</blockquote>
<blockquote>
<ol start="4">
<li>数据绑定：WxParse.wxParse(‘content’, ‘html’, content, that)</li>
</ol>
</blockquote>
<blockquote>
<ol start="5">
<li>在.wxml文件中引入：</li>
</ol>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">import</span>  src=<span class="string">"../../component/wxParse/ .wxml"</span>/&gt;</span><br><span class="line">&lt;template  is=<span class="string">"wxParse"</span> data=<span class="string">"&#123;&#123;wxParseData:content.nodes&#125;&#125;"</span>/&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h5></blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4.</span> 数据绑定：WxParse.wxParse(<span class="string">'content'</span>, <span class="string">'html'</span>, content, that)</span><br><span class="line"><span class="comment">// 这其中的“content”是后台传来的数据内容，具体情况具体对待。</span></span><br><span class="line"><span class="keyword">var</span> article = <span class="string">"&lt;div&gt;我是HTML代码&lt;/div&gt;"</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// WxParse.wxParse(bindName,type,data,target,imagePadding)</span></span><br><span class="line"><span class="comment">// 1. bindName绑定的数据名（必填）</span></span><br><span class="line"><span class="comment">// 2. type可以为html或者md（必填）</span></span><br><span class="line"><span class="comment">// 3. data为传入的具体数据（必填）</span></span><br><span class="line"><span class="comment">// 4. target为Page对象，一般为this（必填）</span></span><br><span class="line"><span class="comment">// 5. imagePadding为当图片自适应是左右的单一padding（默认为0，可选）</span></span><br><span class="line"><span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">WxParse.wxParse(<span class="string">"article"</span>,<span class="string">"html"</span>,article,that,<span class="number">5</span>);</span><br><span class="line"><span class="number">5.</span> </span><br><span class="line">&lt;<span class="keyword">import</span>  src=<span class="string">"../../component/wxParse/ .wxml"</span>/&gt;</span><br><span class="line">&lt;template  is=<span class="string">"wxParse"</span> data=<span class="string">"&#123;&#123;wxParseData:content.nodes&#125;&#125;"</span>/&gt; </span><br><span class="line"><span class="comment">// 这其中的import表示引入文件，template表示导入模版。、</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="例子："><a href="#例子：" class="headerlink" title="例子："></a>例子：</h4></blockquote>
<blockquote>
<p>wxml</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">import</span> <span class="attr">src</span>=<span class="string">"../../component/wxParse/ .wxml"</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--imgdetail是我后台获取的数据detail.content，在js中有赋值--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">template</span> <span class="attr">is</span>=<span class="string">"wxParse"</span> <span class="attr">data</span>=<span class="string">"&#123;&#123;wxParseData:imgdetail.nodes&#125;&#125;"</span>/&gt;</span> </span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"img-content"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--detail是我后台获取的数据，content是里面的一项--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">rich-text</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">nodes</span>=<span class="string">"&#123;&#123;detail.content&#125;&#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">rich-text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> WxParse = <span class="built_in">require</span>(<span class="string">'../../component/wxParse/wxParse.js'</span>);</span><br><span class="line">Page(&#123;</span><br><span class="line">  data: &#123;</span><br><span class="line">    detail: [], <span class="comment">// 列表</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onload:<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     </span><br><span class="line">  &#125;,</span><br><span class="line">  getDetail: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">'地址'</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        data1：传送的数据<span class="number">1</span>,</span><br><span class="line">        data2：传送的数据<span class="number">2</span></span><br><span class="line">      &#125;,</span><br><span class="line">      method: <span class="string">'GET'</span>, <span class="comment">// OPTIONS, GET, HEAD, POST, PUT, DELETE, TRACE, CONNECT</span></span><br><span class="line">        <span class="comment">// header: &#123;&#125;, // 设置请求的 header</span></span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// success</span></span><br><span class="line">        <span class="keyword">if</span> (res.statusCode == <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (res.data.meta.code == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="comment">// 得到detail</span></span><br><span class="line">            that.setData(&#123;</span><br><span class="line">              detail: res.data.data</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="comment">// console.log(res.data.data)</span></span><br><span class="line">            <span class="comment">// console.log(that.data.detail.content)</span></span><br><span class="line">            <span class="comment">// 对得到的文本进行设置</span></span><br><span class="line">            that.changeContent()</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.data.meta.code == <span class="number">400</span>) &#123;</span><br><span class="line">           </span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  changeContent () &#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">    <span class="comment">// 赋值content</span></span><br><span class="line">    <span class="keyword">var</span> content = that.data.detail.content.replace(<span class="regexp">/\&lt;[\/]?(section)/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">m, m1</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> m.replace(<span class="string">'section'</span>, <span class="string">'div'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    content = content.replace(<span class="regexp">/(\&lt;div)/g</span>, <span class="string">'$1 class="hellorich"'</span>)</span><br><span class="line">    content = content.replace(<span class="regexp">/\&lt;[\/]?(ruby)/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">m, m1</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> m.replace(<span class="string">'ruby'</span>, <span class="string">'span'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    content = content.replace(<span class="regexp">/\&lt;[\/]?(rt)/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">m, m1</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> m.replace(<span class="string">'rt'</span>, <span class="string">'span'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    content = content.replace(<span class="regexp">/\&lt;[\/]?(rp)/g</span>, <span class="function"><span class="keyword">function</span> (<span class="params">m, m1</span>) </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> m.replace(<span class="string">'rp'</span>, <span class="string">'span'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">    that.data.detail.content = content.replace(<span class="regexp">/(\&lt;img)/gi</span>, <span class="string">'$1 style="max-width: 100% !important;"'</span>)</span><br><span class="line">    that.setData(&#123;</span><br><span class="line">      detail: that.data.detail</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span> (wx.canIUse !== <span class="literal">undefined</span> &amp;&amp; wx.canIUse(<span class="string">'rich-text'</span>)) &#123;</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        die: <span class="literal">false</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// imgdetail</span></span><br><span class="line">      <span class="keyword">var</span> imgdetail = that.data.detail.content</span><br><span class="line">      WxParse.wxParse(<span class="string">'imgdetail'</span>, <span class="string">'html'</span>, imgdetail, that, <span class="number">5</span>);</span><br><span class="line">      that.setData(&#123;</span><br><span class="line">        die: <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<h5 id="提示-1"><a href="#提示-1" class="headerlink" title="提示"></a>提示</h5></blockquote>
<pre><code>正则：
/i (忽略大小写)
/g (全文查找出现的所有匹配字符)
/m (多行查找)
/gi(全文查找、忽略大小写)
/ig(全文查找、忽略大小写)
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/13/wx-scroll-view/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/13/wx-scroll-view/" itemprop="url">小程序--滚动视图</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-13T11:40:30+08:00">
                2018-06-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/" itemprop="url" rel="index">
                    <span itemprop="name">小程序</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/scroll-view/" itemprop="url" rel="index">
                    <span itemprop="name">scroll-view</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>​    小程序组件中的视图容器：scroll-view（滚动视图容器）</p>
<p>​<br>​    </p>
<blockquote>
<h4 id="常用的属性（开发者文档）"><a href="#常用的属性（开发者文档）" class="headerlink" title="常用的属性（开发者文档）"></a>常用的属性（<a href="https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html" target="_blank" rel="noopener">开发者文档</a>）</h4></blockquote>
<pre><code>scroll-x ：(Boolean) 允许横向滚动
scroll-y ：(Boolean) 允许纵向滚动
scroll-with-animation ：(Boolean) 在设置滚动条位置时使用动画过渡
scroll-top  ：(Number) 设置竖向滚动条位置
scroll-left ：(Number) 设置横向滚动条位置
</code></pre><blockquote>
<h5 id="提示"><a href="#提示" class="headerlink" title="提示"></a>提示</h5></blockquote>
<pre><code>tip: 请勿在 scroll-view 中使用 textarea、map、canvas、video 组件
tip: scroll-into-view 的优先级高于 scroll-top
tip: 在滚动 scroll-view 时会阻止页面回弹，所以在 scroll-view 中滚动，是无法触发 onPullDownRefresh
tip: 若要使用下拉刷新，请使用页面的滚动，而不是 scroll-view ，这样也能通过点击顶部状态栏回到页面顶部
</code></pre><blockquote>
<h5 id="隐藏滚动条"><a href="#隐藏滚动条" class="headerlink" title="隐藏滚动条"></a>隐藏滚动条</h5></blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">color</span>: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4></blockquote>
<blockquote>
<p>wxml</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"grade"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">"grade-scroll"</span> <span class="attr">scroll-x</span>=<span class="string">"true"</span> <span class="attr">style</span>=<span class="string">"width: 100%"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"&#123;&#123;gradeactive==gradeitem.id ? 'grade-one':'grade-default'&#125;&#125;"</span> <span class="attr">wx:for</span>=<span class="string">'&#123;&#123;gradelist&#125;&#125;'</span> <span class="attr">wx:for-item</span>=<span class="string">'gradeitem'</span> <span class="attr">wx:key</span>=<span class="string">'index'</span> <span class="attr">data-id</span>=<span class="string">"&#123;&#123;gradeitem.id&#125;&#125;"</span> <span class="attr">bindtap</span>=<span class="string">'showgrade'</span>&gt;</span></span><br><span class="line">      &#123;&#123;gradeitem.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">Page(&#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 页面的初始数据</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"> data: &#123;</span><br><span class="line">   gradelist: [&#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">4</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">5</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">6</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">7</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">8</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;, &#123; <span class="attr">id</span>: <span class="number">9</span>, <span class="attr">name</span>: <span class="string">'小二班'</span> &#125;],</span><br><span class="line">   gradeactive: <span class="number">1</span>, <span class="comment">// 班级切换</span></span><br><span class="line"> &#125;,</span><br><span class="line"> <span class="comment">// 班级切换</span></span><br><span class="line"> showgrade: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">   <span class="built_in">console</span>.log(e.currentTarget.dataset.id)</span><br><span class="line">   <span class="keyword">if</span> (e.currentTarget.dataset.id != <span class="keyword">this</span>.data.gradeactive) &#123;</span><br><span class="line">     <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">       gradeactive: e.currentTarget.dataset.id</span><br><span class="line">     &#125;)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>wxss</p>
</blockquote>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.grade</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">15</span>rpx <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#188be4</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.grade-scroll</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">125</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">125</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">overflow</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.grade-scroll</span> <span class="selector-class">.grade-one</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#188be4</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">20</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.grade-scroll</span> <span class="selector-class">.grade-default</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">120</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50</span>rpx;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">30</span>rpx;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">24</span>rpx;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">50</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/13/wx-uncheckedstate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/13/wx-uncheckedstate/" itemprop="url">wx-uncheckedstate</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-13T11:20:56+08:00">
                2018-06-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/" itemprop="url" rel="index">
                    <span itemprop="name">小程序</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>背景:</p>
<p>页面已进入签到按钮是灰色不可点击的，学生是未选中状态，只有选中学生之后，签到按钮才能显现，点击之后触发事件。</p>
<p>思路： </p>
<p>点击学生头像，选中学生（状态由false变为true），只要有一个学生被选中，签到按钮就显现，</p>
<p>当再次点击相同学生的头像，学生状态为未选中（有true变为false），只有当所有学生都为被选中，签到按钮就变为灰色不可点击。此时可以重新定义一个空数组，for循环学生状态，当状态为未被选中时，空数组就push添加当前下标，循环完成之后，对比arr数组的长度和所有学生的数组长度，如果相等，就说明所有学生违背选中，此时签到按钮为灰色不可点击。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// 选择签到学生</span></span><br><span class="line"> showicon: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line"><span class="comment">//从wxml页面通过data-key将index传过来，点击时获取</span></span><br><span class="line">   <span class="keyword">var</span> index = e.currentTarget.dataset.key;</span><br><span class="line"><span class="comment">// dates为所有学生信息数据的数组 其中属性state为是否选中的状态属性</span></span><br><span class="line">   <span class="keyword">if</span> (<span class="keyword">this</span>.data.dates[index].state == <span class="literal">false</span>) &#123;</span><br><span class="line">     <span class="keyword">this</span>.data.dates[index].state = <span class="literal">true</span>;</span><br><span class="line">     <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">	<span class="comment">// ifsign 为签到框是否显示</span></span><br><span class="line">       ifsign: <span class="literal">true</span>,</span><br><span class="line">       dates: <span class="keyword">this</span>.data.dates,</span><br><span class="line">     &#125;)</span><br><span class="line">   &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">this</span>.data.dates[index].state == <span class="literal">true</span>) &#123;</span><br><span class="line">     <span class="keyword">this</span>.data.dates[index].state = <span class="literal">false</span>;</span><br><span class="line">  <span class="comment">// 创建新的空数组</span></span><br><span class="line">     <span class="keyword">var</span> arr = []</span><br><span class="line">     <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="keyword">this</span>.data.dates.length; i++)&#123;</span><br><span class="line">       <span class="keyword">if</span> (<span class="keyword">this</span>.data.dates[i].state == <span class="literal">false</span>)&#123;</span><br><span class="line">           arr.push(i)</span><br><span class="line">       &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  <span class="comment">// 对比两个数组的长度，如果相同，即为全为未选中状态</span></span><br><span class="line">     <span class="keyword">if</span> (arr.length == <span class="keyword">this</span>.data.dates.length)&#123;</span><br><span class="line">       <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">         ifsign: <span class="literal">false</span>,</span><br><span class="line">       &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">       dates: <span class="keyword">this</span>.data.dates,</span><br><span class="line">     &#125;)</span><br><span class="line">   &#125;</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/13/wx-expurgate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/13/wx-expurgate/" itemprop="url">点击选中对应的单选框，一键删除选中的单选框。</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-13T09:18:27+08:00">
                2018-06-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/" itemprop="url" rel="index">
                    <span itemprop="name">小程序</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/js/" itemprop="url" rel="index">
                    <span itemprop="name">js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>思路：</p>
<p>一般采用splice（i，1）删除一个或者相连续的几个，在小程序中，目前我还没找到一键删除不连续的选项得方法，所以可以换个思路，不能删除选中的，那就添加没有选中的选项。创建新的空数组arr。</p>
<p>for循环数据，如果没有被选中arr数组push当前下标的数据信息，之后this.setData将数据变为<strong>arr</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">detele: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = []</span><br><span class="line">    <span class="keyword">var</span> album = <span class="keyword">this</span>.data.album</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; album.length;i++)&#123;</span><br><span class="line">      <span class="keyword">if</span> (album[i].selected == <span class="literal">false</span>)&#123;</span><br><span class="line">        arr.push(album[i])</span><br><span class="line">      &#125;    </span><br><span class="line">    &#125;</span><br><span class="line">   <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">     album: arr,</span><br><span class="line">     edit: <span class="literal">false</span></span><br><span class="line">   &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/06/12/wx-uploadpictures/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Coffee">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/12/wx-uploadpictures/" itemprop="url">小程序--上传多张图片</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2018-06-12T11:30:01+08:00">
                2018-06-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/" itemprop="url" rel="index">
                    <span itemprop="name">小程序</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/小程序/上传图片/" itemprop="url" rel="index">
                    <span itemprop="name">上传图片</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>小程序提供了上传单张图片，但是在项目中遇到上传多张图片是常有的。在网上查了很多，发现了一个解决方法，于是借鉴了一下他的思路方法，具体在：<a href="https://blog.csdn.net/qq_37330773/article/details/77951457。" target="_blank" rel="noopener">https://blog.csdn.net/qq_37330773/article/details/77951457。</a></p>
<p>下面是自己修改过得（这个是既要发送文字也要发送图片，里面还有一些其他的功能，样式就不写了 ）：</p>
<blockquote>
<p>html页面</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">'pinglun'</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">class</span>=<span class="string">"text"</span>  <span class="attr">value</span>=<span class="string">'&#123;&#123;formdata&#125;&#125;'</span> <span class="attr">name</span>=<span class="string">"content"</span> <span class="attr">bindinput</span>=<span class="string">'getcontent'</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">'img-bottom'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"img-v"</span>&gt;</span>   </span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"img"</span> <span class="attr">wx:for</span>=<span class="string">"&#123;&#123;imgs&#125;&#125;"</span> <span class="attr">wx:for-item</span>=<span class="string">"item"</span> <span class="attr">wx:key</span>=<span class="string">"idx"</span>&gt;</span>         </span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"&#123;&#123;item&#125;&#125;"</span> <span class="attr">data-index</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">mode</span>=<span class="string">"aspectFill"</span> <span class="attr">bindtap</span>=<span class="string">"previewImg"</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span>    //previewImg 预览图片</span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">"delete-btn"</span> <span class="attr">data-index</span>=<span class="string">"&#123;&#123;index&#125;&#125;"</span> <span class="attr">catchtap</span>=<span class="string">"deleteImg"</span>&gt;</span><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">'iconfont icon-androidcancel'</span>&gt;</span><span class="tag">&lt;/<span class="name">text</span>&gt;</span><span class="tag">&lt;/<span class="name">view</span>&gt;</span> //deleteImg 删除图片</span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">'img-all'</span> <span class="attr">bindtap</span>=<span class="string">"chooseImg"</span> <span class="attr">wx:if</span>=<span class="string">"&#123;&#123;imgs.length&lt;4&#125;&#125;"</span>&gt;</span> //chooseImg 选择添加图片</span><br><span class="line">        <span class="tag">&lt;<span class="name">image</span> <span class="attr">src</span>=<span class="string">"../../image/photo.png"</span> <span class="attr">class</span>=<span class="string">'photo'</span>&gt;</span><span class="tag">&lt;/<span class="name">image</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">view</span>&gt;</span>&#123;&#123;imgs.length&#125;&#125;/4<span class="tag">&lt;/<span class="name">view</span>&gt;</span> //添加4张</span><br><span class="line">      <span class="tag">&lt;/<span class="name">view</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">'btn'</span> <span class="attr">formType</span>=<span class="string">"submit"</span> <span class="attr">bindtap</span>=<span class="string">'postcomment'</span>&gt;</span>发布<span class="tag">&lt;/<span class="name">button</span>&gt;</span>  //postcomment 上传图片</span><br></pre></td></tr></table></figure>
<blockquote>
<p>js</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  data: &#123;</span><br><span class="line">    imgs: [],</span><br><span class="line">    lenMore: <span class="number">0</span>,</span><br><span class="line">    formdata: <span class="string">''</span></span><br><span class="line">  &#125;,</span><br><span class="line"> <span class="comment">// 得到文字内容</span></span><br><span class="line"> getcontent: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      formdata: e.detail.value</span><br><span class="line">     &#125;)</span><br><span class="line"> &#125;,</span><br><span class="line"><span class="comment">// 预览图片</span></span><br><span class="line">  previewImg: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//获取当前图片的下标</span></span><br><span class="line">    <span class="keyword">var</span> index = e.currentTarget.dataset.index;</span><br><span class="line">    <span class="comment">//所有图片</span></span><br><span class="line">    <span class="keyword">var</span> imgs = <span class="keyword">this</span>.data.imgs;</span><br><span class="line">    wx.previewImage(&#123;</span><br><span class="line">      <span class="comment">//当前显示图片</span></span><br><span class="line">      current: imgs[index],</span><br><span class="line">      <span class="comment">//所有图片</span></span><br><span class="line">      urls: imgs</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"><span class="comment">// 删除图片</span></span><br><span class="line">  deleteImg: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> imgs = <span class="keyword">this</span>.data.imgs;</span><br><span class="line">    <span class="keyword">var</span> index = e.currentTarget.dataset.index;</span><br><span class="line">    imgs.splice(index, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">      imgs: imgs</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 上传图片</span></span><br><span class="line">  chooseImg: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> imgs = <span class="keyword">this</span>.data.imgs;</span><br><span class="line">    <span class="keyword">if</span> (imgs.length &gt;= <span class="number">4</span>) &#123;</span><br><span class="line">      <span class="keyword">this</span>.setData(&#123;</span><br><span class="line">        lenMore: <span class="number">1</span></span><br><span class="line">      &#125;);</span><br><span class="line">      setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          lenMore: <span class="number">0</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;, <span class="number">2500</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    wx.chooseImage(&#123;</span><br><span class="line">      count: <span class="number">4</span>, <span class="comment">// 默认9</span></span><br><span class="line">      sizeType: [<span class="string">'original'</span>, <span class="string">'compressed'</span>], <span class="comment">// 可以指定是原图还是压缩图，默认二者都有</span></span><br><span class="line">      sourceType: [<span class="string">'album'</span>, <span class="string">'camera'</span>], <span class="comment">// 可以指定来源是相册还是相机，默认二者都有</span></span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 返回选定照片的本地文件路径列表，tempFilePath可以作为img标签的src属性显示图片</span></span><br><span class="line">        <span class="keyword">var</span> tempFilePaths = res.tempFilePaths;</span><br><span class="line">        <span class="keyword">var</span> imgs = that.data.imgs;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; tempFilePaths.length; i++) &#123;</span><br><span class="line">          <span class="keyword">if</span> (imgs.length &gt;= <span class="number">4</span>) &#123;</span><br><span class="line">            that.setData(&#123;</span><br><span class="line">              imgs: imgs,</span><br><span class="line">              photo: <span class="literal">false</span></span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            imgs.push(tempFilePaths[i]);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        that.setData(&#123;</span><br><span class="line">          imgs: imgs,</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//上传</span></span><br><span class="line">    postcomment: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">    wx.request(&#123;</span><br><span class="line">      url: <span class="string">'路径'</span>,</span><br><span class="line">      method: <span class="string">"POST"</span>,</span><br><span class="line">      data: &#123;</span><br><span class="line">        <span class="string">"content"</span>: that.data.formdata,</span><br><span class="line">        <span class="string">"imgnum"</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="string">"imgfiles"</span>: <span class="string">""</span>,</span><br><span class="line">         <span class="comment">// ... 根据项目发送自己的数据</span></span><br><span class="line">      &#125;,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">        <span class="keyword">if</span> (res.data.meta.code == <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="comment">// 执行上传图片</span></span><br><span class="line">          <span class="keyword">if</span> (that.data.imgs.length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            that.uploadimg(<span class="number">0</span>)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            wx.showToast(&#123;</span><br><span class="line">              title: <span class="string">'提交成功'</span>,</span><br><span class="line">              icon: <span class="string">'success'</span>,</span><br><span class="line">              duration: <span class="number">1000</span></span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.data.meta.code == <span class="number">400</span>) &#123;</span><br><span class="line">          <span class="comment">//重新获取信息，重新上传 这是根据项目来了，方法定义在app.js中，具体要根据自己的项目来。</span></span><br><span class="line">          app.getSessionKey(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            that.postcomment(e)</span><br><span class="line">          &#125;) </span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          wx.showModal(&#123;</span><br><span class="line">            title: <span class="string">'提示'</span>,</span><br><span class="line">            content: res.data.meta.message,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">  uploadimg: <span class="function"><span class="keyword">function</span> (<span class="params">i</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> that = <span class="keyword">this</span></span><br><span class="line">    wx.uploadFile(&#123;</span><br><span class="line">      url: <span class="string">'路径'</span>,</span><br><span class="line">      filePath: that.data.imgs[i],</span><br><span class="line">      name: <span class="string">'imgfile'</span>,</span><br><span class="line">      formData: &#123;</span><br><span class="line">        <span class="comment">//需要传的其他参数</span></span><br><span class="line">      &#125;,</span><br><span class="line">      success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (res.statusCode == <span class="number">200</span>) &#123;</span><br><span class="line">          <span class="keyword">var</span> data = <span class="built_in">JSON</span>.parse(res.data)</span><br><span class="line">          <span class="keyword">if</span> (data.meta.code == <span class="number">200</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span> &lt; that.data.imgs.length) &#123;</span><br><span class="line">              that.uploadimg(i + <span class="number">1</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">              wx.hideLoading()</span><br><span class="line">              wx.showToast(&#123;</span><br><span class="line">                title: <span class="string">'提交成功'</span>,</span><br><span class="line">                icon: <span class="string">'success'</span>,</span><br><span class="line">                duration: <span class="number">1000</span></span><br><span class="line">              &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.meta.code == <span class="number">400</span>) &#123;</span><br><span class="line">            app.getSessionKey(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">              that.uploadimg(i)</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            wx.showModal(&#123;</span><br><span class="line">              title: <span class="string">'错误'</span>,</span><br><span class="line">              content: data.meta.message,</span><br><span class="line">              success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          wx.showModal(&#123;</span><br><span class="line">            title: <span class="string">'确认'</span>,</span><br><span class="line">            content: <span class="string">'网络请求失败，点击重试'</span>,</span><br><span class="line">            success: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">              <span class="keyword">if</span> (res.confirm) &#123;</span><br><span class="line">                that.uploadimg(i)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      fail: <span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;).onProgressUpdate(<span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> progress = <span class="string">'上传中('</span> + (i + <span class="number">1</span>) + <span class="string">'/'</span> + (that.data.imgs.length) + <span class="string">')'</span></span><br><span class="line">      <span class="comment">// var progress = res.progress + '%'</span></span><br><span class="line">      wx.showLoading(&#123;</span><br><span class="line">        title: progress</span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Coffee</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Coffee</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
